openapi: 3.0.0
info:
  title: user-profile
  description: "–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π"
  version: 0.0.0

paths:
  /user/{user_id}/profile:
    get:
      tags:
        - UserProfile
      summary: '–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è'
      operationId: getProfile
      parameters:
        - name: user_id
          in: path
          required: true
          description: "–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (example: d1269650-1ac7-46b4-878a-5f8a8ae8445b)"
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetProfileResponse'

  /user/set-name:
    post:
      tags:
        - UserProfile
      summary: '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è'
      operationId: setName
      requestBody:
        description: "–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞—Ç—Ä–∏–±—É—Ç–∞"
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdatePropertyRequest'
      responses:
        '200':
          description: OK
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: './openApiCommon.yaml#/components/schemas/ErrorMessage'

  /user/set-language:
    post:
      tags:
        - UserProfile
      summary: '–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —è–∑—ã–∫'
      operationId: setLanguage
      parameters:
        - name: lang
          in: query
          description: " "
          schema:
            $ref: '#/components/schemas/LanguageEnum'
      responses:
        '200':
          description: OK
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: './openApiCommon.yaml#/components/schemas/ErrorMessage'

  /user/set-description:
    post:
      tags:
        - UserProfile
      summary: '–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ'
      operationId: setDescription
      requestBody:
        description: "–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞—Ç—Ä–∏–±—É—Ç–∞"
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdatePropertyRequest'
      responses:
        '200':
          description: OK
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: './openApiCommon.yaml#/components/schemas/ErrorMessage'

  /user/set-about:
    post:
      tags:
        - UserProfile
      summary: '–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ'
      operationId: setAbout
      requestBody:
        description: "–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞—Ç—Ä–∏–±—É—Ç–∞"
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdatePropertyRequest'
      responses:
        '200':
          description: OK
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: './openApiCommon.yaml#/components/schemas/ErrorMessage'

  /user/set-address:
    post:
      tags:
        - UserProfile
      summary: '–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∞–¥—Ä–µ—Å (example: 5th. Avenue)'
      operationId: setAddress
      requestBody:
        description: "–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞—Ç—Ä–∏–±—É—Ç–∞"
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdatePropertyRequest'
      responses:
        '200':
          description: OK
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: './openApiCommon.yaml#/components/schemas/ErrorMessage'

  /user/avatar:
    post:
      tags:
        - UserProfile
      summary: '–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è'
      operationId: setAvatar
      requestBody:
        content:
          image/jpg:
            schema:
              type: string
              format: binary
      responses:
        '200':
          description: OK
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: './openApiCommon.yaml#/components/schemas/ErrorMessage'
    delete:
      tags:
        - UserProfile
      summary: '–£–¥–∞–ª–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è'
      operationId: deleteAvatar
      responses:
        '200':
          description: OK
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: './openApiCommon.yaml#/components/schemas/ErrorMessage'

  /user/set-opening-hours:
    post:
      tags:
        - UserProfile
      summary: '–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —á–∞—Å—ã —Ä–∞–±–æ—Ç—ã (example: 09:00-18:00)'
      operationId: setOpeningHours
      requestBody:
        description: "–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞—Ç—Ä–∏–±—É—Ç–∞"
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdatePropertyRequest'
      responses:
        '200':
          description: OK
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: './openApiCommon.yaml#/components/schemas/ErrorMessage'

  /user/set-gps:
    post:
      tags:
        - UserProfile
      summary: '–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å GPS –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (example: 48.89534081509048, 2.491445617284558)'
      operationId: setGps
      requestBody:
        description: "–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞—Ç—Ä–∏–±—É—Ç–∞"
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdatePropertyRequest'
      responses:
        '200':
          description: OK
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: './openApiCommon.yaml#/components/schemas/ErrorMessage'

components:
  schemas:
    UpdatePropertyRequest:
      type: object
      description: "–†–µ–∫–≤–µ—Å—Ç –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –∞—Ç—Ä–∏–±—É—Ç–∞"
      properties:
        value:
          type: string
          description: "–ù–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ"
          example: "..."

    GetProfileResponse:
      description: "–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
      properties:
        id:
          type: string
          format: uuid
          description: "–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä"
          example: "5b7d3f89-5276-4790-a3e1-ed8248e6c6dd"
        name:
          type: string
          description: "–ò–º—è"
          example: "Christina"
        lang:
          type: string
          description: "–Ø–∑—ã–∫"
          example: "EN"
        phone_number:
          type: string
          description: "–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞"
          example: "+7 925 1234567"
        email:
          type: string
          description: "–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞"
          example: "+7 925 1234567"
        avatar:
          type: string
          format: byte
        description:
          type: string
          description: "–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ"
          example: "–ù—è–Ω—è —Å–æ —Å—Ç–∞–∂–µ–º ... "
        about:
          type: string
          description: "–û–ø–∏—Å–∞–Ω–∏–µ"
          example: "–î–æ–ª–≥–∏–µ –≥–æ–¥—ã —Ä–∞–±–æ—Ç–∞–ª–∞ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ –Ω–∞—á–∞–ª—å–Ω–∏–∫–æ–º –æ—Ç–¥–µ–ª–∞ –∫–∞–¥—Ä–æ–≤,–≤ –∫–∞–Ω—Ü–µ–ª—è—Ä–∏–∏ –æ—Ç–¥–µ–ª–µ–Ω–∏—è –ø–æ–ª–∏—Ü–∏–∏,–≤ –¥–µ—Ç—Å–∫–æ–º —Å–∞–¥—É –∏ –≤ —à–∫–æ–ª–µ .–∏.—Ç.–¥.10 –ª–µ—Ç —Ä–∞–±–æ—Ç–∞—é –Ω—è–Ω–µ–π –≤ —Å–µ–º—å—è—Ö.–ò–º–µ—é 4 –≤–æ—Å–ø–∏—Ç–∞–Ω–Ω–∏–∫–∞.–õ—é–±–ª—é –¥–µ—Ç–µ–πüåπ"
        address:
          type: string
          description: "–ê–¥—Ä–µ—Å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è"
          example: "5th Avenue..."
        gps:
          type: string
          description: "–ê–¥—Ä–µ—Å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è"
          example: "48.89534081509048, 2.491445617284558"
        opening_hours:
          type: string
          description: "–†–∞–±–æ—á–∏–µ —á–∞—Å—ã"
          example: "09:00-18:00"

    LanguageEnum:
      type: string
      description: "–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —è–∑—ã–∫–∏"
      enum: [ RU, EN, FR ]
      x-enum-varnames: [ RU, EN, FR ]